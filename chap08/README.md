# 08. 다양한 API

## 08-1. 드래그 & 드롭 API

### draggable 속성
웹에서 드래그 할 수 있으려면 웹 요소를 draggable 속성을 이용해 드래그 할 수 있게 만들어야 합니다.

```html
<div draggable="true">drag me</div>
```

한 가지 명심할 점은 텍스트나 기타 요소들을 드래그 가능하게 만들면 더 이상 마우스로 클릭하거나 드래그하는 방법으로 텍스트를 선택할 수 없게 된다는 것입니다.

### 드래그 데이터
모든 드래그 이벤트는 dataTransfer라는 객체에 드래그 데이터와 함께 저장되어 있습니다. 드래그 데이터란 드래그 이벤트가 발생했을 때 드래그되는 대상을 가리킵니다.
드래그 데이터에는 데이터 유형(형식, 포맷)과 데이터 값, 이렇게 두 가지 정보가 들어있습니다. 데이터 유형이란 텍스트인지 URL인지를 구분하는 것이고, 데이터 값은 실제 데이터 내용을 말합니다.
예를 들어 링크 URL이 드래그 데이터라면 데이터 유형은 URL이고 데이터 값은 링크 주소가 될 것입니다.

### 파일 유형
임의로 데이터 유형을 정의해서 사용할 수도 있지만 MIME 문자열을 이용할 수도 있습니다.

### 드래그 피드백 이미지 설정하기
드래그가 시작되면 반투명한 이미지가 만들어져서 드래그 하는 동안 마우스를 따라다니게 됩니다. 이 이미지는 자동으로 만들어지기 때문에 굳이 따로 만들지 않아도 되지만, 원한다면 setDragImage를 사용해서 나만의 피드백 이미지를 만들 수도 있습니다.

### 드래그 & 드롭 이벤트
| dragstart | 드래그를 하고자 할 때 발생합니다. 이 이벤트가 발생하면 드래그와 관련된 정보들을 설정합니다. |
| --- | --- |
| drag | 마우스가 움직일 때 발생하며 드래그 되는 요소가 이벤트 대상입니다. |
| dragenter | 드래그된 요소가 드롭할 위치로 옮겨질 때 발생합니다. 이 이벤트에 대한 핸들러는 이 위치로 드롭을 허용할 것인지 여부를 결정해야 합니다. 기본으로는 드롭이 허용되지 않습니다. |
| dragover | 드롭 대상 위치로 옮겨지고 있을 때 발생합니다. 대부분 기본 동작은 dragenter와 같습니다. |
| dragleave | 드래그 되는 요소가 드롭 대상 영역을 벗어나서 이동할 때 발생합니다. 따라서 삽입 표시나 하이라이트 표시 등을 삭제해야 합니다. |
| drop | 성공적으로 드롭 대상 영역 위에 드롭 되었을 때 발생합니다. 드롭 위치에서 드래그 될 데이터 위치를 검색하고 삽입해야 합니다. 사용자가 esc 키를 누르거나 해서 동작을 취소하면 이 이벤트는 발생하지 않습니다. |
| dragend | 성공이든 실패든 드래그가 끝났을 때 발생합니다. |
